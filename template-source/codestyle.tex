% Required package
\usepackage{listings}
\usepackage{xcolor}

% Define colors for syntax highlighting
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.95}
\definecolor{stringcolor}{rgb}{0.7,0.1,0.1}
\definecolor{keywordcolor}{rgb}{0.0,0.0,0.8}
\definecolor{commentcolor}{rgb}{0.25,0.5,0.35}

% General settings for all languages
\lstset{
    % backgroundcolor=\color{backcolour},   
    commentstyle=\color{commentcolor}\itshape,
    keywordstyle=\color{keywordcolor}\bfseries,
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{stringcolor},
    basicstyle=\ttfamily\small,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=4,
    frame=single,
    % frame=none,
    % rulecolor=\color{backcolour}
}

% Python style
\lstdefinestyle{python}{
    language=Python,
    morekeywords={self,as,with,yield,lambda,None,True,False},
    keywordstyle=\color{keywordcolor}\bfseries,
    stringstyle=\color{stringcolor},
    commentstyle=\color{commentcolor}\itshape,
    morecomment=[s]{"""}{"""},
    morestring=[b]',
    morestring=[b]",
    emphstyle=\color{codepurple},
    emph={@property,@staticmethod,@classmethod},
}

% C style
\lstdefinestyle{cstyle}{
    language=C,
    morekeywords={size_t,nullptr},
    keywordstyle=\color{keywordcolor}\bfseries,
    stringstyle=\color{stringcolor},
    commentstyle=\color{commentcolor}\itshape,
    directivestyle=\color{codepurple},
    morecomment=[l]{//},
    morecomment=[s]{/*}{*/},
}

% C++ style
\lstdefinestyle{cppstyle}{
    language=C++,
    morekeywords={nullptr,constexpr,decltype,auto,override,final,noexcept,concept,requires,co_await,co_yield,co_return,consteval,constinit},
    keywordstyle=\color{keywordcolor}\bfseries,
    stringstyle=\color{stringcolor},
    commentstyle=\color{commentcolor}\itshape,
    directivestyle=\color{codepurple},
    morecomment=[l]{//},
    morecomment=[s]{/*}{*/},
    emph={std,vector,string,map,set,unordered_map,unordered_set,unique_ptr,shared_ptr,weak_ptr,array,deque,list,queue,stack,pair,tuple,optional,variant,any},
    emphstyle=\color{codepurple}\bfseries,
    moredelim=[is][\color{codepurple}]{<}{>},  % Highlight template brackets
}

% Java style
\lstdefinestyle{javastyle}{
    language=Java,
    morekeywords={var},
    keywordstyle=\color{keywordcolor}\bfseries,
    stringstyle=\color{stringcolor},
    commentstyle=\color{commentcolor}\itshape,
    morecomment=[l]{//},
    morecomment=[s]{/*}{*/},
    emph={String,Integer,Boolean,Double,Float,Long,Short,Byte,Character,ArrayList,HashMap,List,Map,Set},
    emphstyle=\color{codepurple}\bfseries,
}

% MATLAB style
\lstdefinestyle{matlabstyle}{
    language=Matlab,
    morekeywords={function,end,if,else,elseif,switch,case,otherwise,for,while,break,continue,return,try,catch},
    keywordstyle=\color{keywordcolor}\bfseries,
    stringstyle=\color{stringcolor},
    commentstyle=\color{commentcolor}\itshape,
    morecomment=[l]{\%},
    morestring=[m]',
}

% Fortran style
\lstdefinestyle{fortranstyle}{
    language=Fortran,
    morekeywords={allocatable,allocate,deallocate,intent,optional,target,pointer,elemental,pure,recursive,interface,module,contains,use,only,implicit,none,kind,parameter,dimension,intrinsic},
    keywordstyle=\color{keywordcolor}\bfseries,
    stringstyle=\color{stringcolor},
    commentstyle=\color{commentcolor}\itshape,
    morecomment=[l]{!},
    morestring=[b]',
    morestring=[b]",
    emphstyle=\color{codepurple}\bfseries,
    emph={real,integer,complex,logical,character,double,precision},
    alsoletter={_},
}

% LaTeX style
\lstdefinestyle{latexstyle}{
    language=[LaTeX]TeX,
    morekeywords={begin,end,documentclass,usepackage,section,subsection,chapter,label,ref,cite,bibliography,item,includegraphics,textbf,textit,emph},
    keywordstyle=\color{keywordcolor}\bfseries,
    stringstyle=\color{stringcolor},
    commentstyle=\color{commentcolor}\itshape,
    morecomment=[l]{\%},
    texcsstyle=*\color{codepurple}\bfseries,
    moretexcs={documentclass,usepackage,section,subsection,chapter,label,ref,cite,bibliography,item,includegraphics,textbf,textit,emph,maketitle,author,title,date},
}

% Usage examples:
% For Python:
% \begin{lstlisting}[style=python, caption=Python Example]
% def hello_world():
%     print("Hello, World!")
% \end{lstlisting}

% For C:
% \begin{lstlisting}[style=cstyle, caption=C Example]
% #include <stdio.h>
% int main() {
%     printf("Hello, World!\n");
%     return 0;
% }
% \end{lstlisting}

% For Java:
% \begin{lstlisting}[style=javastyle, caption=Java Example]
% public class HelloWorld {
%     public static void main(String[] args) {
%         System.out.println("Hello, World!");
%     }
% }
% \end{lstlisting}

% For MATLAB:
% \begin{lstlisting}[style=matlabstyle, caption=MATLAB Example]
% function result = add_numbers(a, b)
%     result = a + b;
% end
% \end{lstlisting}

% For LaTeX:
% \begin{lstlisting}[style=latexstyle, caption=LaTeX Example]
% \documentclass{article}
% \begin{document}
% Hello World!
% \end{document}
% \end{lstlisting}